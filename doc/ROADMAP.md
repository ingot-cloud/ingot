# Roadmap

## 平台功能
- [x] 用户管理
    - [x] 添加用户
    - [x] 编辑用户，包括组织编辑
- [x] 组织管理
    - [x] 创建组织，需要创建默认信息，管理后台角色和app角色(默认租户的组织类型角色)，初始化部门，初始化管理员用户，初始化菜单
    - [x] 编辑组织
    - [x] 组织初始化管理
        - 配置默认初始化菜单
        - 配置默认初始化部门
        - 配置默认初始化角色
        - 修改任意默认值后，需要更新所有租户对应的默认配置
    - [x] 组织功能管理
        - 添加、删除平台提供的功能 
- [x] 应用管理
  - [x] 应用管理，可以配置默认应用，初始化组织的时候，默认添加的应用
  - [x] 应用状态，和默认状态配置
  - [x] 组织初始化，需要创建所有应用，但是只给默认应用可用，根据应用给组织创建相关菜单和权限
  - [x] 组织管理，管理组织的应用，可以单独禁用和打开
  - [x] 用户获取菜单逻辑修改，根据登录组织应用进行返回相关权限和菜单
- [x] 权限增加权限类型
- [x] 平台基础管理，功能需要梳理，接口需要整理
- [x] ID管理，biz_leaf_alloc表的管理
- [ ] 平台app用户管理
- [ ] 字典管理
- [ ] 任务管理
- [ ] tenant table通过注解注入，不用配置
- [ ] 前台配套权限指令定义

## 组织功能
 - [x] 权限管理
     - 配置角色权限，权限为租户默认拥有的权限  
 - [x] 部门修改，主部门不可以编辑
 - [x] 成员关联部门，不能取消主部门
 - [x] 不能删除主部门
 - [ ] 权限相关，部门权限和角色权限单独处理
 - [ ] 组织app用户

## 其他
 - [x] app_user_social 和 sys_user_social 需要增加 tenant_id，用于区分用户登录不同租户
 - [x] 接口拆分，组织类接口和非组织类
 - [x] 字段加解密插件
 - [ ] 授权服务器，oauth2_authorization 和 oauth2_authorization_consent 使用redis存储
 - [ ] 梳理所有登录逻辑，编写文档，梳理框架所有功能

## 功能点
* [ ] RBAC
* [X] 多租户
* [ ] dubbo
* [ ] grpc
* [ ] Seata
* [ ] Sentinel
* [ ] Token管理
   * [ ] Token信息缓存优化
   * [ ] 增加签退逻辑，签退某个Token的时候，需要将其缓存在Redis中，Token正常认证流程中，如果发现Redis存在该Token，那么代表需要签退
   * [ ] 需要考虑唯一用户情况如何判断
* [x] 验证码模块
   * [x] 图形验证码
   * [x] 邮箱验证码
   * [x] 短信验证码
* [x] 优化拆分store模块
* [x] 分离账号体系，前端用户独立表
* [ ] 登录成功，异步日志通知

### 授权
* [x] 默认使用Authorization Code + PKCE
* [x] 自有APP登录默认使用Password或Social登录模式，注意Client Secret不暴露
